# golang 的数据类型

在本节之后，我们将正式学习 golang 语言基础。本节，我们将介绍 “golang 数据类型”，如果你还没阅读过之前的文章内容，可以打开以下链接进行阅读

1. [golang 开发环境的搭建]()
2. [golang 开发中包的使用]()

## 一、数据类型的分类

> 数据类型的出现是为了把数据分成所需内存大小不同的数据，编程的时候需要用大数据的时候才需要申请大内存，就可以充分利用内存。

---

### 1. 数据类别

golang 数据类型 按数据类别有以下几种数据类型：

- **布尔型：** 布尔型的值只可以是常量 true 或者 false。一个简单的例子：var b bool = true。
- **数字类型：** 整型 int 和浮点型 float32、float64，Go 语言支持整型和浮点型数字，并且支持复数，其中位的运算采用补码。
- **字符串类型:** 字符串就是一串固定长度的字符连接起来的字符序列。Go 的字符串是由单个字节连接起来的。Go 语言的字符串的字节使用 UTF-8 编码标识 Unicode 文本。
- **派生类型:** 包括：(a) 指针类型（Pointer）(b) 数组类型(c) 结构化类型(struct)(d) Channel 类型(e) 函数类型(f) 切片类型(g) 接口类型（interface）(h) Map 类型。

---

### 2.存储方式

golang 数据类型按存储方式 有两大类数据类型：

1. 值类型，也叫基本数据类型：数值类型、bool、string、数组、struct 结构体
2. 引用数据类型：指针、slice 切片、管道 chan、map、以及 interface

值类型：变量直接存储值。值类型的数据存储在栈内存空间中，栈在函数调用完内存会被释放。
引用类型：变量存储的是一个地址，这个地址存储最终的值。引用数据类型的数据存储在堆内存空间中，通过 GC 回收。

## 二、常用数据类型

### 1. bool 类型

golang 中以`bool`关键字声明布尔类型数据，布尔型的值只可以是` true` 或者 `false`。代表条件成立（真）或条件不成立（假），以下一个简单的例子：

```go
var b bool = true
```

- 布尔类型变量的默认值为 false

- golang 中不允许将整型强制转换为布尔型

- 布尔型无法参与数值运算，也无法与其他类型进行转换

### 2. 数字类型

**（1）整型**

整型主要有 int 、int16、int32、int64、uint、uint8、uint16、uint32、uint64。如下表格

- **uint8**： 无符号 8 位整型 (0 到 255)
- **uint16**： 无符号 16 位整型 (0 到 65535)
- **uint32**： 无符号 32 位整型 (0 到 4294967295)
- **uint64**： 无符号 64 位整型 (0 到 18446744073709551615)
- **int8**： 有符号 8 位整型 (-128 到 127)
- **int16**： 有符号 16 位整型 (-32768 到 32767)
- **int32**： 有符号 32 位整型 (-2147483648 到 2147483647)
- **int64**： 有符号 64 位整型 (-9223372036854775808 到 9223372036854775807)

Go 语言的 int/uint 类型，是不可移植的类型，其长度根据宿主机的机器字长决定。`int`, `uint` 和 `uintptr` 在 32 位系统上通常为 32 位宽，在 64 位系统上则为 64 位宽。

**（2）浮点型**

浮点数类型主要有 float32、float64、complex64、complex128

- **float32**： IEEE-754 32 位浮点型数
- **float64**： IEEE-754 64 位浮点型数
- **complex64**： 32 位实数和虚数
- **complex128**： 64 位实数和虚数

**（3）其他数字类型**

以下列出了其他更多的数字类型：

- **byte** ：类似 uint8，代表了 ASCII 码的一个字符，也可以说是 ASCII 字符类型
- **rune** ： 类似 int32，表示一个 Unicode 码点
- **uintptr**： 无符号整型，用于存放一个指针

UTF-8 是 Unicode 的实现方式之一。UTF-8 最大的一个特点，就是它是一种变长的编码方式。它可以使用 1~4 个字节表示一个符号，根据不同的符号而变化字节长度。

**（4）类型强转**

golang 中只有强制类型转换，没有隐式类型转换。该语法只能在两个类型之间支持相互转换的时候使用。

强制类型转换的基本语法为：`type(variable)`，可转换的数据包括变量、表达式、函数返回值等。如下代码

```go
var a int = 8
// 将int类型改为int32类型
var b int32 = int32(a)
```

### 3. 字符串类型

字符串定义：`var str string`
字符串有两种表示方式：双引号（""）；反引号，也叫原意符号（``），如下代码

```go
package main

import "fmt"

func main() {
	var str1 = "hello world"
	var str2 = `
	窗前明月光
	疑是地上霜
	举头望明月
	低头思故乡
	`

	fmt.Println("str1 = ", str1)
	fmt.Println("str2 = ", str2)
}
```

运行结果如下

```shell
pan@pandeMBP src % go run learn/test4
str1 =  hello world
str2 =
        窗前明月光
        疑是地上霜
        举头望明月
        低头思故乡

pan@pandeMBP src %
```

## 三、总结

本节，我们介绍了 golang 数据类型的分类，以及介绍了常用的几种数据类型。在后面的章节中，我们将更深入地学习和使用各种数据类型。
